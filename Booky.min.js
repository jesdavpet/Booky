var Booky=Booky||function(){"use strict";function e(t){var n="";switch(wtf.type(t)){case wtf.NUMBER():case wtf.STRING():n+=t;break;case wtf.FUNCTION():n+=e(t());break;case wtf.ARRAY():for(var r=0;r<t.length;r++)n+=e(t[r])}return n}function t(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function n(n){var r="";if(wtf.ARRAY(n.base)){for(var i=[],c=0;c<n.base.length;c++)i.push(e(n.base[c]));r+=i.join(",")}else r+=e(n.base);if(n.parameters.length>0){r+="?";for(var u=[],f=0;f<n.parameters.length;f++)for(var s in n.parameters[f])n.parameters[f].hasOwnProperty(s)&&u.push(s+"="+e(n.parameters[f][s]));r+=u.join("&")}return n.anchor&&(r+="#"+e(n.anchor)),r=t(r),{inSameWindow:o(r),inNewWindow:a(r)}}function r(e,t,r){return wtf.STRING(e)&&(e=[].push(e)),t||(t=[]),r||(r=""),{get:function(){n({base:e,parameters:t,anchor:r})}}}function o(e){return function(){window.location.href=e}}function a(e){return function(){window.open(e,"newBookyWindow")}}function i(){for(var e=document.head.getElementsByTagName("meta"),t=0;t<e.length;t++)if("author"===e[t].name)return e[t].content;return""}function c(){return document.lastModified}function u(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e}function f(){return document.title}function s(){return document.URL}return{mailto:mailto,webpage:r,author:i,lastModified:c,selectedText:u,title:f,url:s}}();
